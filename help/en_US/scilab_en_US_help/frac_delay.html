<html><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>frac_delay</title>
    <style type="text/css" media="all">
      @import url("scilab_code.css");
      @import url("xml_code.css");
      @import url("c_code.css");
      @import url("style.css");
    </style>
  </head>
  <body>
    <div class="manualnavbar">
    <table width="100%"><tr>
      <td width="30%">
    	<span class="previous"><a href="delay_estim.html">&lt;&lt; delay_estim</a></span>

      </td>
      <td width="40%" class="center">
      	<span class="top"><a href="section_d7de6729a5a09a5f4d35ada170acf0c4.html">Clock recovery</a></span>

      </td>
      <td width="30%" class="next">
      	<span class="next"><a href="itrp_init.html">itrp_init &gt;&gt;</a></span>

      </td>
    </tr></table>
      <hr />
    </div>



    <span class="path"><a href="index.html">comm_tbx</a> &gt;&gt; <a href="section_6d8f81fcf7acb24d9e822812f072ef87.html">Communication toolbox</a> &gt; <a href="section_d7de6729a5a09a5f4d35ada170acf0c4.html">Clock recovery</a> &gt; frac_delay</span>

    <br /><br />
    <div class="refnamediv"><h1 class="refname">frac_delay</h1>
    <p class="refpurpose">Fractionnal (sub-sample accuracy) delaying of a signal</p></div>


<div class="refsynopsisdiv"><h3 class="title">Calling Sequence</h3>
   <div class="synopsis"><pre><span class="default">y</span><span class="default"> = </span><span class="functionid">frac_delay</span><span class="default">(</span><span class="default">x</span><span class="default">, </span><span class="default">delay</span><span class="default">)</span>
<span class="default">y</span><span class="default"> = </span><span class="functionid">frac_delay</span><span class="default">(</span><span class="default">x</span><span class="default">, </span><span class="default">delay</span><span class="default">, </span><span class="default">method</span><span class="default"> = </span>&#0039;<span class="default">itrp</span>&#0039;<span class="default"> | </span>&#0039;<span class="default">dft</span>&#0039;<span class="default">)</span>
<span class="default">y</span><span class="default"> = </span><span class="functionid">frac_delay</span><span class="default">(</span><span class="default">x</span><span class="default">, </span><span class="default">delay</span><span class="default">, </span><span class="default">itrp</span><span class="default">)</span></pre></div></div>

<div class="refsection"><h3 class="title">Parameters</h3>
   <dl><dt><span class="term">x:</span>
      <dd><p class="para">Input signal</p></dd></dt>
   <dt><span class="term">delay:</span>
      <dd><p class="para">Delay to apply (expressed in samples, not necessarily an integer)</p></dd></dt>
   <dt><span class="term">method:</span>
      <dd><p class="para">Specify the method to use: interpolator based (&#0039;itrp&#0039;, default method) or DFT based (&#0039;dft&#0039;)</p></dd></dt>
   <dt><span class="term">itrp:</span>
      <dd><p class="para">Interpolator object (see <a href="itrp_init.html" class="link">itrp_init</a>)</p></dd></dt>
   <dt><span class="term">y:</span>
      <dd><p class="para">Output signal, delayed version of x</p></dd></dt></dl></div>

<div class="refsection"><h3 class="title">Description</h3>
   <p class="para">The <b>DFT method</b> is based on the fact that a delay in the time domain is the same as a
modulation in the frequency domain:</p>
   <p class="para"><span><img src='./_LaTeX_frac_delay.xml_1.png' style='position:relative;top:6px;width:175px;height:24px'/></span></p>
   <p class="para">However, since it is based on the DFT, if the input signal is not periodic, leakages related side effects can occur (see comparison below).</p>
   <p class="para">The <b>interpolator method</b> is based on a cubic cardinal spline interpolator.</p>
   <p class="para"><div class="refsection"><h3 class="title">Example</h3></div>
<div class="programlisting"><table border="0" width="100%"><tr><td width="98%"><pre class="scilabcode"><span class="scilabid">t</span> <span class="scilaboperator">=</span> <span class="scilabopenclose">(</span><span class="scilabnumber">0</span><span class="scilabspecial">:</span><span class="scilabnumber">1</span><span class="scilaboperator">/</span><span class="scilabnumber">20</span><span class="scilabspecial">:</span><span class="scilabnumber">1</span><span class="scilabopenclose">)</span><span class="scilaboperator">&#0039;</span><span class="scilabdefault">;</span>
<span class="scilabid">x</span> <span class="scilaboperator">=</span> <a class="scilabcommand" href="scilab://sin">sin</a><span class="scilabopenclose">(</span><span class="scilabnumber">4</span><span class="scilaboperator">*</span><span class="scilabconstants">%pi</span><span class="scilaboperator">*</span><span class="scilabid">t</span><span class="scilabopenclose">)</span><span class="scilabdefault">;</span>
<span class="scilabid">y</span> <span class="scilaboperator">=</span> <span class="scilabid">frac_delay</span><span class="scilabopenclose">(</span><span class="scilabid">x</span><span class="scilabdefault">,</span> <span class="scilabnumber">0.5</span><span class="scilabopenclose">)</span><span class="scilabdefault">;</span> <span class="scilabcomment">// Delay by 1/2 sample</span>
<a class="scilabmacro" href="scilab://clf">clf</a><span class="scilabopenclose">(</span><span class="scilabopenclose">)</span><span class="scilabdefault">;</span> <a class="scilabmacro" href="scilab://plot">plot</a><span class="scilabopenclose">(</span><span class="scilabopenclose">[</span><span class="scilabid">x</span> <span class="scilabid">y</span><span class="scilabopenclose">]</span><span class="scilabopenclose">)</span><span class="scilabdefault">;</span></pre></td><td valign="top"><a href="scilab://scilab.execexample/"><img src="ScilabExecute.png" border="0"/></a></td><td valign="top"><a href="scilab://scilab.editexample/"><img src="ScilabEdit.png" border="0"/></a></td><td></td></tr></table></div>
<div class="mediaobject"><img src='./ex_frac_delay.png'/><caption><b><p class="para">Example of fractionnal delay</p></b></caption></div></p>
   <p class="para"><div class="refsection"><h3 class="title">Comparison of the two available methods</h3></div>
<div class="mediaobject"><img src='./ex_frac_delay_comp.png'/><caption><b><p class="para">Comparison between DFT and interpolator based fractionnal delay</p></b></caption></div>
<p class="para">As one can see, the DFT method has some ringing at the end of the signal ; this is due to spectral leakages introduced by the fact that the signal values are different at the begin and at the end (the DFT suppose that the signal is peridic).</p></p>
   <p class="para"></p></div>

<div class="refsection"><h3 class="title">See also</h3>
   <ul class="itemizedlist"><li class="member"><a href="delay_estim.html" class="link">delay_estim</a></li></ul></div>

<div class="refsection"><h3 class="title">Authors</h3>
   <ul class="itemizedlist"><li class="member">J.A., full documentation available on <a href="http://www.tsdconseil.fr/log/sct" class="ulink">http://www.tsdconseil.fr/log/sct</a></li></ul></div>
    <br />

    <div class="manualnavbar">
    <table width="100%">
    <tr><td colspan="3" class="next"><a href="http://bugzilla.scilab.org/enter_bug.cgi?product=Scilab%20software&component=Documentation%20pages" class="ulink">Report an issue</a></td></tr>
<tr>
      <td width="30%">
    	<span class="previous"><a href="delay_estim.html">&lt;&lt; delay_estim</a></span>

      </td>
      <td width="40%" class="center">
      	<span class="top"><a href="section_d7de6729a5a09a5f4d35ada170acf0c4.html">Clock recovery</a></span>

      </td>
      <td width="30%" class="next">
      	<span class="next"><a href="itrp_init.html">itrp_init &gt;&gt;</a></span>

      </td>
    </tr></table>
      <hr />
    </div>
  </body>
</html>
